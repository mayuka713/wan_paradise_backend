# Wan Paradise - 全国の犬関連施設検索アプリ（バックエンド）

[アプリを使ってみる](https://wan.mayuka.site)

全国の犬関連施設（ドッグラン、ドッグカフェ、ペットショップ、動物病院）を検索・管理できるWebアプリケーションを開発しました。（現在は、北海道・東京・大阪の店舗情報を表示しています。）

ユーザーが自分のニーズに合った店舗を簡単に見つけられるように、以下のような機能を実装しています。

- タグ検索機能（例：駐車場あり、小型犬専用あり など）
- お気に入り登録機能
- レビュー投稿機能
- スマートフォン対応（レスポンシブデザイン）

---

## 使用技術

| 分野 | 技術 |
|------|------|
| フロントエンド | React / TypeScript |
| バックエンド |TypeScript/  Node.js / Express |
| データベース | PostgreSQL |

---

## 技術選定の理由

- **React**：UIをコンポーネントごとに分けて開発・管理できるため、拡張性が高く保守しやすい。
- **TypeScript**：型安全性を確保し、バグの発生を抑えることができる。
- **Node.js + Express**：シンプルで柔軟なAPIの構築が可能。
- **PostgreSQL**：リレーショナルデータの管理に強く、必要な情報を効率よく扱える。

---

## このアプリを作成した目的


愛犬と一緒にお出かけできる施設の情報を調べるのが好きで、
その楽しさを、もっとたくさんの人に広げたいと思ったことがきっかけです。特に、自分が住んでいる地域から探しやすかったり、
条件に合わせて施設を見つけられるサービスを、自分でも作ってみたいと思い、ポートフォリオとして取り組みました。
React / Express / PostgreSQL で構成されたフルスタックアプリで、タグ検索・レビュー投稿・お気に入り登録・マイページ機能など、ユーザー中心の設計を意識して作り込みました。  
現在はシーディングで店舗データを登録していますが、今後は店舗オーナー自身が情報を登録・編集できる管理機能の導入を目指しています。

---

## スクリーンショット


<img width="905" alt="2025年4月20日 スクリーンショット" src="https://github.com/user-attachments/assets/627d5860-b6cc-445c-9b53-884d5d1ac826" />　

（タグによる絞り込み機能）

① '/list/tag/:prefectureId'で指定された 都道府県ID (prefectureId) に応じて、データベースから店舗情報（名前、住所、URL、画像など）を取得して返します。該当する店舗がなければ、404エラーを返す。

② '/'でデータベースのタグ情報（全件）を取得し、一覧で返す。



<img width="700" alt="スクリーンショット 2025年4月20日" src="https://github.com/user-attachments/assets/a3091ebe-22fe-41eb-8aa9-52cedd8da910" />


（レビュー投稿機能）

① /（GET）ですべてのレビュー情報（店舗名付き）を取得。

② /:store_id（GET)で指定された店舗IDに関連するレビューを取得。レビュー情報だけでなく、店舗名と平均評価（average_rating）も一緒に返す。もし、レビューがなければ404エラーを返す。

③ /（POST）で新しいレビューを投稿できる。必須情報（store_id, rating, comment）が揃っていないとエラーになる。登録後、店舗名付きのレビュー情報を返す。


![Favorites from wan mayuka site](https://github.com/user-attachments/assets/6daae0f1-572e-4280-b301-ad369789add5)

（お気に入り登録機能）

① お気に入り追加（POST /）でユーザーが特定のお店をお気に入り登録できる。また、user_id と store_id を受け取って、データベースの favorites テーブルに保存する。登録が成功すると、登録したデータを返す。

② お気に入り削除（DELETE /）でユーザーがお気に入りを解除できます。user_id と store_id を受け取って、該当するお気に入りデータを削除します。該当データがない場合は404エラーを返します。

③ お気に入り一覧取得（GET /:user_id）で指定したユーザーのお気に入りリストを取得できる。お店の名前、住所、画像、種類などの情報もあわせて取得して返す。



<img width="441" alt="スクリーンショット 2025年4月20日" src="https://github.com/user-attachments/assets/47a8ef62-bbe9-4231-8f84-4bb7d303296a" />

（マイページの登録）

① ユーザー登録（/register）でname, email, passwordを受け取り、パスワードをハッシュ化して保存させる。

② ログイン（/login）で入力情報を照合し、成功したらクッキーにuser_idを保存してログイン状態を管理する。

③ ログイン状態確認（/me）でクッキーのuser_idをもとに、ログイン中のユーザー情報を取得する。

④ プロフィール更新（/update）でnameやemail、必要に応じてパスワードも更新（再ハッシュ化）させる。

⑤ ログアウト（/logout）でクッキーからuser_idを削除して、ログアウトさせる。





